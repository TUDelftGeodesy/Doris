Installation

After installation of the python package you have to make a link to the doris core / cpxfiddle executable. You can do
so by running the following script:

python ../main_code/init_cfg.py

If you don't have the two executables, you will have to compile these two executables. Guidelines to do so can be found
under:
http://doris.tudelft.nl/

----------------------------------------------------------------------------------------------
Datastacks

After making this link you can create your first python datastack. To do so you have to prepare the following:
- Download the needed Sentinel-1 SAR images and place the .zip files in one directory (you can have sub-directories)
- Create a folder to store the orbit files and download the needed orbit files from:
    https://qc.sentinel1.eo.esa.int/
    s1-a / s1-b and precise and restituted can be mixed. Only use restituted orbits with recent SAR data (< 14 days ago)
- Create a folder where you can store intermediate DEM results. Data will be downloaded automatically, so you only have
    to create the folder itself.
- Create a .shp file with your area of interest. You can use different software packages, but ArcGIS and QGIS (free) are
    the most convenient for this purpose.
- Finally, create the folder where you want to process your datastack. Be aware that to process your data you will need
    at least 100 GB of free space on your disc.

Now you can run the code to create a new datastack:

python ../main_code/create_datastack.py

This code will ask you to define the different folders you created before. Then it generates a structure which is ready
to process your datastack. It will ask whether you want to run your code in parallel. Generally, this is recommended as
it speeds up your processing speed. Note that either the number of cores and your RAM can be limiting (one process will
use about 4GB of RAM).

You can enter the folder to find, the newly created DEM, your .shp file, configuration files (inputfiles) and the stack.
Further there is stack_info.xml. This is a .xml file where all configuration settings for your datastack are stored.
So, if you want to change this configuration afterwards, you can make some changes there.

Finally, there is the run.sh file to run the actual processing.

------------------------------------------------------------------------------------------------
Processing

To start the processing of your datastack you will have to make a small adjustment run.sh file in your datastack folder.
On the end of the last line in this file you will find:

-s yyyy-mm-dd -e yyyy-mm-dd -m yyyy-mm-dd

These variables are used to define:
- s > start date of your datastack. What is the first image (in time) you want to process?
- e > end date of your datastack. What is the last image (in time) you want to process?
- m > master data of your datastack. Which image will be used as the master of your stack. Other images will be resampled
        to the geometry of this master image.
Note that the start and end date are not necessarily but can also be chosen years back or in the far future to capture
all images. The master dataset should be part off your dataset and should be between the start and end date.

Now you made the changes you can start and start your processing by the following command:
qsub run.sh

The terminal will give information on the progress of the processing. Expect a total run time of 10 hours for one
interferogram using one core. From this it should scale almost linearly if your hard disc is fast enough... Upscaling to
4 or 8 cores with 16 or 32 GB RAM works generally fine on a normal desktop.

